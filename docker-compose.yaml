version: '3'

services:
  pihole:
    container_name: pihole
    image: pihole/pihole
    environment:
      TZ: "Asia/Manila"
      WEBPASSWORD: "password"
      SERVERIP: "192.168.0.200"
    volumes:
      - type: volume
        source: pihole_app
        target: /etc/pihole
      - type: volume
        source: dns_config
        target: /etc/dnsmasq.d

networks:
  macvlan_containers:
    name: macvlan_containers
    driver: macvlan
    driver_opts:
      parent: enp2s0
    ipam:
      config:
        - subnet: "192.168.0.0/24"
          gateway: "192.168.0.1"
    
volumes:
  pihole_app:
  dns_config:
